{"version":3,"sources":["../../client/image.tsx"],"names":["VALID_LOADING_VALUES","undefined","loaders","Map","imgixLoader","cloudinaryLoader","akamaiLoader","defaultLoader","VALID_LAYOUT_VALUES","imageData","process","env","__NEXT_IMAGE_OPTS","deviceSizes","configDeviceSizes","imageSizes","configImageSizes","loader","configLoader","path","configPath","domains","configDomains","allSizes","sort","a","b","cachedObserver","getObserver","IntersectionObserver","window","entries","forEach","entry","isIntersecting","lazyImage","target","unLazifyImage","unobserve","rootMargin","dataset","src","srcset","style","visibility","classList","remove","getSizes","width","layout","sizes","kind","Set","map","w","find","p","length","computeSrc","unoptimized","quality","largest","callLoader","loaderProps","load","get","root","generateSrcSet","size","i","join","generatePreload","getInt","x","parseInt","Image","priority","loading","className","height","all","thisEl","rest","unsized","Boolean","NODE_ENV","Error","JSON","stringify","includes","String","lazy","current","observer","observe","widthInt","heightInt","qualityInt","wrapperStyle","sizerStyle","sizerSvg","imgStyle","position","top","left","bottom","right","boxSizing","padding","border","margin","display","minWidth","maxWidth","minHeight","maxHeight","quotient","paddingTop","isNaN","overflow","imgSrc","imgSrcSet","imgAttributes","srcSet","shouldPreload","normalizeSrc","slice","params","paramsString","push","missingValues","startsWith","parsedSrc","URL","err","console","error","hostname","encodeURIComponent"],"mappings":"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","sourcesContent":["import React, { ReactElement, useEffect, useRef } from 'react'\nimport Head from '../next-server/lib/head'\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\ntype LoadingValue = typeof VALID_LOADING_VALUES[number]\n\nconst loaders = new Map<LoaderKey, (props: LoaderProps) => string>([\n  ['imgix', imgixLoader],\n  ['cloudinary', cloudinaryLoader],\n  ['akamai', akamaiLoader],\n  ['default', defaultLoader],\n])\n\ntype LoaderKey = 'imgix' | 'cloudinary' | 'akamai' | 'default'\n\nconst VALID_LAYOUT_VALUES = [\n  'fill',\n  'fixed',\n  'intrinsic',\n  'responsive',\n  undefined,\n] as const\ntype LayoutValue = typeof VALID_LAYOUT_VALUES[number]\n\ntype ImageData = {\n  deviceSizes: number[]\n  imageSizes: number[]\n  loader: LoaderKey\n  path: string\n  domains?: string[]\n}\n\ntype ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'width' | 'height' | 'loading'\n> & {\n  src: string\n  quality?: number | string\n  priority?: boolean\n  loading?: LoadingValue\n  unoptimized?: boolean\n} & (\n    | {\n        width?: never\n        height?: never\n        /** @deprecated Use `layout=\"fill\"` instead */\n        unsized: true\n      }\n    | { width?: never; height?: never; layout: 'fill' }\n    | {\n        width: number | string\n        height: number | string\n        layout?: Exclude<LayoutValue, 'fill'>\n      }\n  )\n\nconst imageData: ImageData = process.env.__NEXT_IMAGE_OPTS as any\nconst {\n  deviceSizes: configDeviceSizes,\n  imageSizes: configImageSizes,\n  loader: configLoader,\n  path: configPath,\n  domains: configDomains,\n} = imageData\n// sort smallest to largest\nconst allSizes = [...configDeviceSizes, ...configImageSizes]\nconfigDeviceSizes.sort((a, b) => a - b)\nallSizes.sort((a, b) => a - b)\n\nlet cachedObserver: IntersectionObserver\n\nfunction getObserver(): IntersectionObserver | undefined {\n  const IntersectionObserver =\n    typeof window !== 'undefined' ? window.IntersectionObserver : null\n  // Return shared instance of IntersectionObserver if already created\n  if (cachedObserver) {\n    return cachedObserver\n  }\n\n  // Only create shared IntersectionObserver if supported in browser\n  if (!IntersectionObserver) {\n    return undefined\n  }\n  return (cachedObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          let lazyImage = entry.target as HTMLImageElement\n          unLazifyImage(lazyImage)\n          cachedObserver.unobserve(lazyImage)\n        }\n      })\n    },\n    { rootMargin: '200px' }\n  ))\n}\n\nfunction unLazifyImage(lazyImage: HTMLImageElement): void {\n  if (lazyImage.dataset.src) {\n    lazyImage.src = lazyImage.dataset.src\n  }\n  if (lazyImage.dataset.srcset) {\n    lazyImage.srcset = lazyImage.dataset.srcset\n  }\n  lazyImage.style.visibility = 'visible'\n  lazyImage.classList.remove('__lazy')\n}\n\nfunction getSizes(\n  width: number | undefined,\n  layout: LayoutValue\n): { sizes: number[]; kind: 'w' | 'x' } {\n  if (\n    typeof width !== 'number' ||\n    layout === 'fill' ||\n    layout === 'responsive'\n  ) {\n    return { sizes: configDeviceSizes, kind: 'w' }\n  }\n\n  const sizes = [\n    ...new Set(\n      [width, width * 2, width * 3].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { sizes, kind: 'x' }\n}\n\nfunction computeSrc(\n  src: string,\n  unoptimized: boolean,\n  layout: LayoutValue,\n  width?: number,\n  quality?: number\n): string {\n  if (unoptimized) {\n    return src\n  }\n  const { sizes } = getSizes(width, layout)\n  const largest = sizes[sizes.length - 1]\n  return callLoader({ src, width: largest, quality })\n}\n\ntype CallLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\nfunction callLoader(loaderProps: CallLoaderProps) {\n  const load = loaders.get(configLoader) || defaultLoader\n  return load({ root: configPath, ...loaderProps })\n}\n\ntype SrcSetData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  width?: number\n  quality?: number\n}\n\nfunction generateSrcSet({\n  src,\n  unoptimized,\n  layout,\n  width,\n  quality,\n}: SrcSetData): string | undefined {\n  // At each breakpoint, generate an image url using the loader, such as:\n  // ' www.example.com/foo.jpg?w=480 480w, '\n  if (unoptimized) {\n    return undefined\n  }\n\n  const { sizes, kind } = getSizes(width, layout)\n  return sizes\n    .map(\n      (size, i) =>\n        `${callLoader({ src, width: size, quality })} ${\n          kind === 'w' ? size : i + 1\n        }${kind}`\n    )\n    .join(', ')\n}\n\ntype PreloadData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  width: number | undefined\n  sizes?: string\n  quality?: number\n}\n\nfunction generatePreload({\n  src,\n  unoptimized = false,\n  layout,\n  width,\n  sizes,\n  quality,\n}: PreloadData): ReactElement {\n  // This function generates an image preload that makes use of the \"imagesrcset\" and \"imagesizes\"\n  // attributes for preloading responsive images. They're still experimental, but fully backward\n  // compatible, as the link tag includes all necessary attributes, even if the final two are ignored.\n  // See: https://web.dev/preload-responsive-images/\n  return (\n    <Head>\n      <link\n        rel=\"preload\"\n        as=\"image\"\n        href={computeSrc(src, unoptimized, layout, width, quality)}\n        // @ts-ignore: imagesrcset and imagesizes not yet in the link element type\n        imagesrcset={generateSrcSet({\n          src,\n          unoptimized,\n          layout,\n          width,\n          quality,\n        })}\n        imagesizes={sizes}\n      />\n    </Head>\n  )\n}\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'number') {\n    return x\n  }\n  if (typeof x === 'string') {\n    return parseInt(x, 10)\n  }\n  return undefined\n}\n\nexport default function Image({\n  src,\n  sizes,\n  unoptimized = false,\n  priority = false,\n  loading,\n  className,\n  quality,\n  width,\n  height,\n  ...all\n}: ImageProps) {\n  const thisEl = useRef<HTMLImageElement>(null)\n\n  let rest: Partial<ImageProps> = all\n  let layout: NonNullable<LayoutValue> = sizes ? 'responsive' : 'intrinsic'\n  let unsized = false\n  if ('unsized' in rest) {\n    unsized = Boolean(rest.unsized)\n    // Remove property so it's not spread into image:\n    delete rest['unsized']\n  } else if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout\n\n    // Remove property so it's not spread into image:\n    delete rest['layout']\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!src) {\n      throw new Error(\n        `Image is missing required \"src\" property. Make sure you pass \"src\" in props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { width, height, quality }\n        )}`\n      )\n    }\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (unsized) {\n      throw new Error(\n        `Image with src \"${src}\" has deprecated \"unsized\" property, which was removed in favor of the \"layout='fill'\" property`\n      )\n    }\n  }\n\n  let lazy = loading === 'lazy'\n  if (!priority && typeof loading === 'undefined') {\n    lazy = true\n  }\n\n  if (typeof window !== 'undefined' && !window.IntersectionObserver) {\n    // Rendering client side on browser without intersection observer\n    lazy = false\n  }\n\n  useEffect(() => {\n    const target = thisEl.current\n\n    if (target && lazy) {\n      const observer = getObserver()\n\n      if (observer) {\n        observer.observe(target)\n\n        return () => {\n          observer.unobserve(target)\n        }\n      } else {\n        //browsers without intersection observer\n        unLazifyImage(target)\n      }\n    }\n  }, [thisEl, lazy])\n\n  const widthInt = getInt(width)\n  const heightInt = getInt(height)\n  const qualityInt = getInt(quality)\n\n  let wrapperStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerSvg: string | undefined\n  let imgStyle: JSX.IntrinsicElements['img']['style'] = {\n    visibility: lazy ? 'hidden' : 'visible',\n\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%',\n  }\n  if (\n    typeof widthInt !== 'undefined' &&\n    typeof heightInt !== 'undefined' &&\n    layout !== 'fill'\n  ) {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    const quotient = heightInt / widthInt\n    const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = { display: 'block', boxSizing: 'border-box', paddingTop }\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%',\n      }\n      sizerSvg = `<svg width=\"${widthInt}\" height=\"${heightInt}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt,\n      }\n    }\n  } else if (\n    typeof widthInt === 'undefined' &&\n    typeof heightInt === 'undefined' &&\n    layout === 'fill'\n  ) {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n\n      boxSizing: 'border-box',\n      margin: 0,\n    }\n  } else {\n    // <Image src=\"i.png\" />\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(\n        `Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`\n      )\n    }\n  }\n\n  // Generate attribute values\n  const imgSrc = computeSrc(src, unoptimized, layout, widthInt, qualityInt)\n  const imgSrcSet = generateSrcSet({\n    src,\n    unoptimized,\n    layout,\n    width: widthInt,\n    quality: qualityInt,\n  })\n\n  let imgAttributes:\n    | {\n        src: string\n        srcSet?: string\n      }\n    | {\n        'data-src': string\n        'data-srcset'?: string\n      }\n  if (!lazy) {\n    imgAttributes = {\n      src: imgSrc,\n    }\n    if (imgSrcSet) {\n      imgAttributes.srcSet = imgSrcSet\n    }\n  } else {\n    imgAttributes = {\n      'data-src': imgSrc,\n    }\n    if (imgSrcSet) {\n      imgAttributes['data-srcset'] = imgSrcSet\n    }\n    className = className ? className + ' __lazy' : '__lazy'\n  }\n\n  // No need to add preloads on the client side--by the time the application is hydrated,\n  // it's too late for preloads\n  const shouldPreload = priority && typeof window === 'undefined'\n\n  if (unsized) {\n    wrapperStyle = undefined\n    sizerStyle = undefined\n    imgStyle = undefined\n  }\n  return (\n    <div style={wrapperStyle}>\n      {shouldPreload\n        ? generatePreload({\n            src,\n            layout,\n            unoptimized,\n            width: widthInt,\n            sizes,\n            quality: qualityInt,\n          })\n        : null}\n      {sizerStyle ? (\n        <div style={sizerStyle}>\n          {sizerSvg ? (\n            <img\n              style={{ maxWidth: '100%', display: 'block' }}\n              alt=\"\"\n              aria-hidden={true}\n              role=\"presentation\"\n              src={`data:image/svg+xml;charset=utf-8,${sizerSvg}`}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      <img\n        {...rest}\n        {...imgAttributes}\n        decoding=\"async\"\n        className={className}\n        sizes={sizes}\n        ref={thisEl}\n        style={imgStyle}\n      />\n    </div>\n  )\n}\n\n//BUILT IN LOADERS\n\ntype LoaderProps = CallLoaderProps & { root: string }\n\nfunction normalizeSrc(src: string) {\n  return src[0] === '/' ? src.slice(1) : src\n}\n\nfunction imgixLoader({ root, src, width, quality }: LoaderProps): string {\n  // Demo: https://static.imgix.net/daisy.png?format=auto&fit=max&w=300\n  const params = ['auto=format', 'fit=max', 'w=' + width]\n  let paramsString = ''\n  if (quality) {\n    params.push('q=' + quality)\n  }\n\n  if (params.length) {\n    paramsString = '?' + params.join('&')\n  }\n  return `${root}${normalizeSrc(src)}${paramsString}`\n}\n\nfunction akamaiLoader({ root, src, width }: LoaderProps): string {\n  return `${root}${normalizeSrc(src)}?imwidth=${width}`\n}\n\nfunction cloudinaryLoader({ root, src, width, quality }: LoaderProps): string {\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit/turtles.jpg\n  const params = ['f_auto', 'c_limit', 'w_' + width]\n  let paramsString = ''\n  if (quality) {\n    params.push('q_' + quality)\n  }\n  if (params.length) {\n    paramsString = params.join(',') + '/'\n  }\n  return `${root}${paramsString}${normalizeSrc(src)}`\n}\n\nfunction defaultLoader({ root, src, width, quality }: LoaderProps): string {\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src && !src.startsWith('/') && configDomains) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse \"${src}\" in \"next/image\", if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (!configDomains.includes(parsedSrc.hostname)) {\n        throw new Error(\n          `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n            `See more info: https://err.sh/nextjs/next-image-unconfigured-host`\n        )\n      }\n    }\n  }\n\n  return `${root}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`\n}\n"]}